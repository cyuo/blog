---
import { Icon } from "astro-icon/components";
import I18nKey from "@i18n/i18nKey";
import { i18n } from "@i18n/translation";
import MainGridLayout from "@layouts/MainGridLayout.astro";
import { friends } from "../config";
---

<MainGridLayout title={i18n(I18nKey.friends)} description="友情链接">
    <div class="flex w-full rounded-[var(--radius-large)] overflow-hidden relative min-h-32">
        <div class="card-base z-10 px-9 py-6 relative w-full">
            <h1 class="text-3xl font-bold mb-6 text-90">{i18n(I18nKey.friends)}</h1>
            
            {friends.length === 0 ? (
                <div class="text-center py-12 text-50">
                    <Icon name="material-symbols:link-off" class="text-6xl mb-4 opacity-50"></Icon>
                    <p>暂无友链，欢迎交换友链！</p>
                </div>
            ) : (
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                    {friends.map((friend) => (
                        <a
                            href={friend.url}
                            target="_blank"
                            rel="noopener noreferrer"
                            class="card-base p-4 hover:scale-[1.02] transition-transform duration-200 group"
                        >
                            <div class="flex items-start gap-4">
                                {friend.avatar && (
                                    <img
                                        src={friend.avatar}
                                        alt={friend.name}
                                        class="w-12 h-12 rounded-full object-cover flex-shrink-0"
                                        loading="lazy"
                                    />
                                )}
                                <div class="flex-1 min-w-0">
                                    <div class="flex items-center gap-2 mb-1">
                                        <h3 class="font-bold text-lg truncate text-90 group-hover:text-[var(--primary)] transition-colors">
                                            {friend.name}
                                        </h3>
                                        <Icon
                                            name="fa6-solid:arrow-up-right-from-square"
                                            class="text-xs text-30 flex-shrink-0"
                                        ></Icon>
                                    </div>
                                    {friend.description && (
                                        <p class="text-sm text-75 line-clamp-2">
                                            {friend.description}
                                        </p>
                                    )}
                                </div>
                            </div>
                        </a>
                    ))}
                </div>
            )}
        </div>
    </div>
</MainGridLayout>
